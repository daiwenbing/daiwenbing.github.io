var CodeMirror=function(){function a(y,M){function W(l){return l>=0&&l<vr.size}function H(n){return L(vr,n)}function B(a,c){zr=!0;for(var h=c-a.height,n=a;n;n=n.parent)n.height+=h}function V(a){var c={line:0,ch:0};Se(c,{line:vr.size-1,ch:H(vr.size-1).text.length},me(a),c,c),wr=!0}function Q(){var a=[];return vr.iter(0,vr.size,function(c){a.push(c.text)}),a.join("\n")}function te(e){function a(e){var h=In(e,!0);if(h&&!j(h,v)){mr||Me(),v=h,$e(c,h),wr=!1;var y=Fe();(h.line>=y.to||h.line<y.from)&&(g=setTimeout(Yn(function(){a(e)}),150))}}Xe(e.shiftKey);for(var n=O(e);n!=Zn;n=n.parentNode)if(n.parentNode==er&&n!=nr)return;for(var n=O(e);n!=Zn;n=n.parentNode)if(n.parentNode==lr)return _n.onGutterClick&&_n.onGutterClick(Kr,$(lr.childNodes,n)+Ir,e),D(e);var c=In(e);switch(R(e)){case 3:return void(se&&!J&&On(e));case 2:return void(c&&Qe(c.line,c.ch,!0))}if(!c)return void(O(e)==tr&&D(e));mr||Me();var h=+new Date;if(kr&&kr.time>h-400&&j(kr.pos,c))return D(e),setTimeout(Ue,20),sn(c.line);if(yr&&yr.time>h-400&&j(yr.pos,c))return kr={time:h,pos:c},D(e),an(c);yr={time:h,pos:c};var g,v=c;if(ae&&!j(Nr.from,Nr.to)&&!G(c,Nr.from)&&!G(Nr.to,c)){fe&&(ar.draggable=!0);var y=P($n,"mouseup",Yn(function(a){fe&&(ar.draggable=!1),Cr=!1,y(),Math.abs(e.clientX-a.clientX)+Math.abs(e.clientY-a.clientY)<10&&(D(a),Qe(c.line,c.ch,!0),Ue())}),!0);return void(Cr=!0)}D(e),Qe(c.line,c.ch,!0);var k=P($n,"mousemove",Yn(function(e){clearTimeout(g),D(e),a(e)}),!0),y=P($n,"mouseup",Yn(function(e){clearTimeout(g);var a=In(e);a&&$e(c,a),D(e),Ue(),wr=!0,k(),y()}),!0)}function ce(e){for(var n=O(e);n!=Zn;n=n.parentNode)if(n.parentNode==lr)return D(e);var a=In(e);a&&(kr={time:+new Date,pos:a},D(e),an(a))}function ve(e){function a(a,i){var h=new FileReader;h.onload=function(){g[i]=h.result,++v==n&&(c=en(c),Yn(function(){var a=Ee(g.join(""),c,c);$e(c,a)})())},h.readAsText(a)}e.preventDefault();var c=In(e,!0),h=e.dataTransfer.files;if(c&&!_n.readOnly)if(h&&h.length&&window.FileReader&&window.File)for(var n=h.length,g=Array(n),v=0,i=0;n>i;++i)a(h[i],i);else try{var g=e.dataTransfer.getData("Text");if(g){var y=Ee(g,c,c),k=Nr.from,C=Nr.to;$e(c,y),Cr&&Ee("",k,C),Ue()}}catch(e){}}function xe(e){var a=He();_(a),e.dataTransfer.setDragImage(he,0,0),e.dataTransfer.setData("Text",a)}function ye(e){var a,g,v=ge[e.keyCode],y=oe[_n.keyMap].auto;if(null==v||e.altGraphKey)return y&&(_n.keyMap=y),null;if(e.altKey&&(v="Alt-"+v),e.ctrlKey&&(v="Ctrl-"+v),e.metaKey&&(v="Cmd-"+v),e.shiftKey&&(a=c("Shift-"+v,_n.extraKeys,_n.keyMap))?g=!0:a=c(v,_n.extraKeys,_n.keyMap),"string"==typeof a&&(a=ie.propertyIsEnumerable(a)?ie[a]:null),!y||!a&&h(e)||(_n.keyMap=y),!a)return!1;if(g){var k=xr;xr=null,a(Kr),xr=k}else a(Kr);return D(e),!0}function ke(e){mr||Me();var a=e.keyCode;if(ue&&27==a&&(e.returnValue=!1),Xe(16==a||e.shiftKey),!_n.onKeyEvent||!_n.onKeyEvent(Kr,N(e))){var c=ye(e);window.opera&&(Fr=c?e.keyCode:null,!c&&(J?e.metaKey:e.ctrlKey)&&88==e.keyCode&&We(""))}}function Ce(e){if(window.opera&&e.keyCode==Fr)return Fr=null,void D(e);if(!(_n.onKeyEvent&&_n.onKeyEvent(Kr,N(e))||window.opera&&!e.which&&ye(e))){if(_n.electricChars&&hr.electricChars){var a=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode);hr.electricChars.indexOf(a)>-1&&setTimeout(Yn(function(){fn(Nr.to.line,"smart")}),75)}Oe()}}function we(e){_n.onKeyEvent&&_n.onKeyEvent(Kr,N(e))||16==e.keyCode&&(xr=null)}function Me(){_n.readOnly||(mr||(_n.onFocus&&_n.onFocus(Kr),mr=!0,-1==Zn.className.search(/\bCodeMirror-focused\b/)&&(Zn.className+=" CodeMirror-focused"),Ar||Pe(!0)),Ie(),Rn())}function be(){mr&&(_n.onBlur&&_n.onBlur(Kr),mr=!1,Zn.className=Zn.className.replace(" CodeMirror-focused","")),clearInterval(cr),setTimeout(function(){mr||(xr=null)},150)}function Se(a,c,h,g,v){if(Br){var y=[];for(vr.iter(a.line,c.line+1,function(a){y.push(a.text)}),Br.addChange(a.line,h.length,y);Br.done.length>_n.undoDepth;)Br.done.shift()}Te(a,c,h,g,v)}function Le(a,c){var h=a.pop();if(h){var g=[],v=h.start+h.added;vr.iter(h.start,v,function(a){g.push(a.text)}),c.push({start:h.start,added:h.old.length,old:g});var y=en({line:h.start+h.old.length-1,ch:X(g[g.length-1],h.old[h.old.length-1])});Te({line:h.start,ch:0},{line:v-1,ch:H(v-1).text.length},h.old,y,y),wr=!0}}function Ae(){Le(Br.done,Br.undone)}function ze(){Le(Br.undone,Br.done)}function Te(a,c,h,g,v){function y(n){return n<=Math.min(c.line,c.line+E)?n:n+E}var k=!1,C=Pr.length;_n.lineWrapping||vr.iter(a.line,c.line,function(a){return a.text.length==C?(k=!0,!0):void 0}),(a.line!=c.line||h.length>1)&&(zr=!0);var M=c.line-a.line,b=H(a.line),S=H(c.line);if(0==a.ch&&0==c.ch&&""==h[h.length-1]){var L=[],A=null;a.line?(A=H(a.line-1),A.fixMarkEnds(S)):S.fixMarkStarts();for(var i=0,e=h.length-1;e>i;++i)L.push(w.inheritMarks(h[i],A));M&&vr.remove(a.line,M,Tr),L.length&&vr.insert(a.line,L)}else if(b==S)if(1==h.length)b.replace(a.ch,c.ch,h[0]);else{S=b.split(c.ch,h[h.length-1]),b.replace(a.ch,null,h[0]),b.fixMarkEnds(S);for(var L=[],i=1,e=h.length-1;e>i;++i)L.push(w.inheritMarks(h[i],b));L.push(S),vr.insert(a.line+1,L)}else if(1==h.length)b.replace(a.ch,null,h[0]),S.replace(null,c.ch,""),b.append(S),vr.remove(a.line+1,M,Tr);else{var L=[];b.replace(a.ch,null,h[0]),S.replace(null,c.ch,h[h.length-1]),b.fixMarkEnds(S);for(var i=1,e=h.length-1;e>i;++i)L.push(w.inheritMarks(h[i],b));M>1&&vr.remove(a.line+1,M-1,Tr),vr.insert(a.line+1,L)}if(_n.lineWrapping){var z=tr.clientWidth/Nn()-3;vr.iter(a.line,a.line+h.length,function(a){if(!a.hidden){var c=Math.ceil(a.text.length/z)||1;c!=a.height&&B(a,c)}})}else vr.iter(a.line,i+h.length,function(a){var l=a.text;l.length>C&&(Pr=l,C=l.length,Wr=null,k=!1)}),k&&(C=0,Pr="",Wr=null,vr.iter(0,vr.size,function(a){var l=a.text;l.length>C&&(C=l.length,Pr=l)}));for(var T=[],E=h.length-M-1,i=0,l=dr.length;l>i;++i){var W=dr[i];W<a.line?T.push(W):W>c.line&&T.push(W+E)}var N=a.line+Math.min(h.length,500);Vn(a.line,N),T.push(N),dr=T,Fn(100),br.push({from:a.line,to:c.line+1,diff:E});var D={from:a,to:c,text:h};if(Sr){for(var I=Sr;I.next;I=I.next);I.next=D}else Sr=D;Ze(g,v,y(Nr.from.line),y(Nr.to.line)),er.style.height=vr.height*Wn()+2*Dn()+"px"}function Ee(a,c,h){function g(g){if(G(g,c))return g;if(!G(h,g))return v;var y=g.line+a.length-(h.line-c.line)-1,k=g.ch;return g.line==h.line&&(k+=a[a.length-1].length-(h.ch-(h.line==c.line?c.ch:0))),{line:y,ch:k}}c=en(c),h=h?en(h):c,a=me(a);var v;return Ne(a,c,h,function(a){return v=a,{from:g(Nr.from),to:g(Nr.to)}}),v}function We(a,c){Ne(me(a),Nr.from,Nr.to,function(a){return"end"==c?{from:a,to:a}:"start"==c?{from:Nr.from,to:Nr.from}:{from:Nr.from,to:a}})}function Ne(a,c,h,g){var v=1==a.length?a[0].length+c.ch:a[a.length-1].length,y=g({line:c.line+a.length-1,ch:v});Se(c,h,a,y.from,y.to)}function De(a,c){var h=a.line,g=c.line;if(h==g)return H(h).text.slice(a.ch,c.ch);var v=[H(h).text.slice(a.ch)];return vr.iter(h+1,g,function(a){v.push(a.text)}),v.push(H(g).text.slice(0,c.ch)),v.join("\n")}function He(){return De(Nr.from,Nr.to)}function Ie(){jr||pr.set(_n.pollInterval,function(){jn(),Re(),mr&&Ie(),Gn()})}function Oe(){function p(){jn();var c=Re();c||a?(jr=!1,Ie()):(a=!0,pr.set(60,p)),Gn()}var a=!1;jr=!0,pr.set(20,p)}function Re(){if(Ar||!mr||pe(Qn))return!1;var a=Qn.value;if(a==Gr)return!1;xr=null;for(var c=0,l=Math.min(Gr.length,a.length);l>c&&Gr[c]==a[c];)++c;return c<Gr.length?Nr.from={line:Nr.from.line,ch:Nr.from.ch-(Gr.length-c)}:Dr&&j(Nr.from,Nr.to)&&(Nr.to={line:Nr.to.line,ch:Math.min(H(Nr.to.line).text.length,Nr.to.ch+(a.length-c))}),We(a.slice(c),"end"),Gr=a,!0}function Pe(a){j(Nr.from,Nr.to)?a&&(Gr=Qn.value=""):(Gr="",Qn.value=He(),Qn.select())}function Ue(){_n.readOnly||Qn.focus()}function Be(){if(ur.getBoundingClientRect){var a=ur.getBoundingClientRect();if(!ue||a.top!=a.bottom){var c=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(a.top<0||a.bottom>c)&&ur.scrollIntoView()}}}function Ve(){var a=zn(Nr.inverted?Nr.from:Nr.to),x=_n.lineWrapping?Math.min(a.x,ar.offsetWidth):a.x;return Ke(x,a.y,x,a.yBot)}function Ke(a,c,h,g){var v=Hn(),y=Dn(),k=Wn();c+=y,g+=y,a+=v,h+=v;var C=tr.clientHeight,w=tr.scrollTop,M=!1,b=!0;w>c?(tr.scrollTop=Math.max(0,c-2*k),M=!0):g>w+C&&(tr.scrollTop=g+k-C,M=!0);var S=tr.clientWidth,L=tr.scrollLeft,A=_n.fixedGutter?rr.clientWidth:0;return L+A>a?(50>a&&(a=0),tr.scrollLeft=Math.max(0,a-10-A),M=!0):h>S+L-3&&(tr.scrollLeft=h+10-S,M=!0,h>er.clientWidth&&(b=!1)),M&&_n.onScroll&&_n.onScroll(Kr),b}function Fe(){var a=Wn(),c=tr.scrollTop-Dn(),h=Math.max(0,Math.floor(c/a)),g=Math.ceil((c+tr.clientHeight)/a);return{from:z(vr,h),to:z(vr,g)}}function je(a,c){if(!tr.clientWidth)return void(Ir=Or=Hr=0);var h=Fe();if(!(a!==!0&&0==a.length&&h.from>=Ir&&h.to<=Or)){var g=Math.max(h.from-100,0),v=Math.min(vr.size,h.to+100);g>Ir&&20>g-Ir&&(g=Ir),Or>v&&20>Or-v&&(v=Math.min(vr.size,Or));for(var y=a===!0?[]:Ge([{from:Ir,to:Or,domStart:0}],a),k=0,i=0;i<y.length;++i){var C=y[i];C.from<g&&(C.domStart+=g-C.from,C.from=g),C.to>v&&(C.to=v),C.from>=C.to?y.splice(i--,1):k+=C.to-C.from}if(k!=v-g){y.sort(function(a,c){return a.domStart-c.domStart});var w=Wn(),M=rr.style.display;fr.style.display=rr.style.display="none",Ye(g,v,y),fr.style.display="";var b=g!=Ir||v!=Or||Rr!=tr.clientHeight+w;if(b&&(Rr=tr.clientHeight+w),Ir=g,Or=v,Hr=T(vr,g),nr.style.top=Hr*w+"px",er.style.height=vr.height*w+2*Dn()+"px",fr.childNodes.length!=Or-Ir)throw new Error("BAD PATCH! "+JSON.stringify(y)+" size="+(Or-Ir)+" nodes="+fr.childNodes.length);if(_n.lineWrapping){Wr=tr.clientWidth;var S=fr.firstChild;vr.iter(Ir,Or,function(a){if(!a.hidden){var c=Math.round(S.offsetHeight/w)||1;a.height!=c&&(B(a,c),zr=!0)}S=S.nextSibling})}else null==Wr&&(Wr=Ln(Pr)),Wr>tr.clientWidth?(ar.style.width=Wr+"px",er.style.width="",er.style.width=tr.scrollWidth+"px"):ar.style.width=er.style.width="";return rr.style.display=M,(b||zr)&&_e(),qe(),!c&&_n.onUpdate&&_n.onUpdate(Kr),!0}}}function Ge(a,c){for(var i=0,l=c.length||0;l>i;++i){for(var h=c[i],g=[],v=h.diff||0,y=0,k=a.length;k>y;++y){var C=a[y];h.to<=C.from&&h.diff?g.push({from:C.from+v,to:C.to+v,domStart:C.domStart}):h.to<=C.from||h.from>=C.to?g.push(C):(h.from>C.from&&g.push({from:C.from,to:h.from,domStart:C.domStart}),h.to<C.to&&g.push({from:h.to+v,to:C.to+v,domStart:C.domStart+(h.to-C.from)}))}a=g}return a}function Ye(a,c,h){function g(a){var c=a.nextSibling;return a.parentNode.removeChild(a),c}if(h.length){for(var v=0,y=fr.firstChild,i=0;i<h.length;++i){for(var k=h[i];k.domStart>v;)y=g(y),v++;for(var C=0,e=k.to-k.from;e>C;++C)y=y.nextSibling,v++}for(;y;)y=g(y)}else fr.innerHTML="";var w=h.shift(),y=fr.firstChild,C=a,M=Nr.from.line,b=Nr.to.line,S=a>M&&b>=a,L=$n.createElement("div");vr.iter(a,c,function(a){var c=null,g=null;S?(c=0,b==C&&(S=!1,g=Nr.to.ch)):M==C&&(b==C?(c=Nr.from.ch,g=Nr.to.ch):(S=!0,c=Nr.from.ch)),w&&w.to==C&&(w=h.shift()),!w||w.from>C?(L.innerHTML=a.hidden?"<pre></pre>":a.getHTML(c,g,!0,Ur),fr.insertBefore(L.firstChild,y)):y=y.nextSibling,++C})}function _e(){if(_n.gutter||_n.lineNumbers){var a=nr.offsetHeight,c=tr.clientHeight;rr.style.height=(2>a-c?c:a)+"px";var h=[],i=Ir;vr.iter(Ir,Math.max(Or,Ir+1),function(a){if(a.hidden)h.push("<pre></pre>");else{var c=a.gutterMarker,g=_n.lineNumbers?i+_n.firstLineNumber:null;c&&c.text?g=c.text.replace("%N%",null!=g?g:""):null==g&&(g=" "),h.push(c&&c.style?'<pre class="'+c.style+'">':"<pre>",g);for(var v=1;v<a.height;++v)h.push("<br/>&#160;");h.push("</pre>")}++i}),rr.style.display="none",lr.innerHTML=h.join("");for(var g=String(vr.size).length,v=lr.firstChild,y=F(v),k="";y.length+k.length<g;)k+=" ";k&&v.insertBefore($n.createTextNode(k),v.firstChild),rr.style.display="",ar.style.marginLeft=rr.offsetWidth+"px",zr=!1}}function qe(){var a=Nr.inverted?Nr.from:Nr.to,c=(Wn(),zn(a,!0)),h=K(Zn),g=K(fr);Jn.style.top=c.y+g.top-h.top+"px",Jn.style.left=c.x+g.left-h.left+"px",j(Nr.from,Nr.to)?(ur.style.top=c.y+"px",ur.style.left=(_n.lineWrapping?Math.min(c.x,ar.offsetWidth):c.x)+"px",ur.style.display=""):ur.style.display="none"}function Xe(a){xr=a?xr||(Nr.inverted?Nr.to:Nr.from):null}function $e(a,c){var h=xr&&en(xr);h&&(G(h,a)?a=h:G(c,h)&&(c=h)),Ze(a,c),Mr=!0}function Ze(a,c,h,g){if(Yr=null,null==h&&(h=Nr.from.line,g=Nr.to.line),!j(Nr.from,a)||!j(Nr.to,c)){if(G(c,a)){var v=c;c=a,a=v}a.line!=h&&(a=Je(a,h,Nr.from.ch)),c.line!=g&&(c=Je(c,g,Nr.to.ch)),j(a,c)?Nr.inverted=!1:j(a,Nr.to)?Nr.inverted=!1:j(c,Nr.from)&&(Nr.inverted=!0),j(a,c)?j(Nr.from,Nr.to)||br.push({from:h,to:g+1}):j(Nr.from,Nr.to)?br.push({from:a.line,to:c.line+1}):(j(a,Nr.from)||br.push(a.line<h?{from:a.line,to:Math.min(c.line,h)+1}:{from:h,to:Math.min(g,a.line)+1}),j(c,Nr.to)||br.push(c.line<g?{from:Math.max(h,a.line),to:g+1}:{from:Math.max(a.line,g),to:c.line+1})),Nr.from=a,Nr.to=c,Lr=!0}}function Je(a,c,h){function g(c){for(var g=a.line+c,v=1==c?vr.size:-1;g!=v;){var y=H(g);if(!y.hidden){var k=a.ch;return(k>h||k>y.text.length)&&(k=y.text.length),{line:g,ch:k}}g+=c}}var v=H(a.line);return v.hidden?a.line>=c?g(1)||g(-1):g(-1)||g(1):a}function Qe(a,c,h){var g=en({line:a,ch:c||0});(h?$e:Ze)(g,g)}function tn(n){return Math.max(0,Math.min(n,vr.size-1))}function en(a){if(a.line<0)return{line:0,ch:0};if(a.line>=vr.size)return{line:vr.size-1,ch:H(vr.size-1).text.length};var c=a.ch,h=H(a.line).text.length;return null==c||c>h?{line:a.line,ch:h}:0>c?{line:a.line,ch:0}:a}function nn(a,c){function h(){for(var l=y+a,e=0>a?-1:vr.size;l!=e;l+=a){var c=H(l);if(!c.hidden)return y=l,C=c,!0}}function g(c){if(k==(0>a?0:C.text.length)){if(c||!h())return!1;k=0>a?C.text.length:0}else k+=a;return!0}var v=Nr.inverted?Nr.from:Nr.to,y=v.line,k=v.ch,C=H(y);if("char"==c)g();else if("column"==c)g(!0);else if("word"==c)for(var w=!1;!(0>a)||g();){if(Z(C.text.charAt(k)))w=!0;else if(w){0>a&&(a=1,g());break}if(a>0&&!g())break}return{line:y,ch:k}}function rn(a,c){var h=0>a?Nr.from:Nr.to;(xr||j(Nr.from,Nr.to))&&(h=nn(a,c)),Qe(h.line,h.ch,!0)}function on(a,c){j(Nr.from,Nr.to)?0>a?Ee("",nn(a,c),Nr.to):Ee("",Nr.from,nn(a,c)):Ee("",Nr.from,Nr.to),Mr=!0}function ln(a,c){var h=0,g=zn(Nr.inverted?Nr.from:Nr.to,!0);null!=Yr&&(g.x=Yr),"page"==c?h=tr.clientHeight:"line"==c&&(h=Wn());var v=Tn(g.x,g.y+h*a+2);Qe(v.line,v.ch,!0),Yr=g.x}function an(a){for(var c=H(a.line).text,h=a.ch,g=a.ch;h>0&&Z(c.charAt(h-1));)--h;for(;g<c.length&&Z(c.charAt(g));)++g;$e({line:a.line,ch:h},{line:a.line,ch:g})}function sn(a){$e({line:a,ch:0},{line:a,ch:H(a).text.length})}function un(a){if(j(Nr.from,Nr.to))return fn(Nr.from.line,a);for(var e=Nr.to.line-(Nr.to.ch?0:1),i=Nr.from.line;e>=i;++i)fn(i,a)}function fn(n,a){if(a||(a="add"),"smart"==a)if(hr.indent)var c=Bn(n);else a="prev";var h,g=H(n),v=g.indentation(_n.tabSize),y=g.text.match(/^\s*/)[0];"prev"==a?h=n?H(n-1).indentation(_n.tabSize):0:"smart"==a?h=hr.indent(c,g.text.slice(y.length),g.text):"add"==a?h=v+_n.indentUnit:"subtract"==a&&(h=v-_n.indentUnit),h=Math.max(0,h);var k=h-v;if(k){var C="",w=0;if(_n.indentWithTabs)for(var i=Math.floor(h/_n.tabSize);i;--i)w+=_n.tabSize,C+="	";for(;h>w;)++w,C+=" "}else{if(Nr.from.line!=n&&Nr.to.line!=n)return;var C=y}Ee(C,{line:n,ch:0},{line:n,ch:y.length})}function cn(){hr=a.getMode(_n,_n.mode),vr.iter(0,vr.size,function(a){a.stateAfter=null}),dr=[0],Fn()}function hn(){var a=_n.gutter||_n.lineNumbers;rr.style.display=a?"":"none",a?zr=!0:fr.parentNode.style.marginLeft=0}function dn(){if(_n.lineWrapping){Zn.className+=" CodeMirror-wrap";var a=tr.clientWidth/Nn()-3;vr.iter(0,vr.size,function(c){if(!c.hidden){var h=Math.ceil(c.text.length/a)||1;1!=h&&B(c,h)}}),ar.style.width=er.style.width=""}else Zn.className=Zn.className.replace(" CodeMirror-wrap",""),Wr=null,Pr="",vr.iter(0,vr.size,function(a){1==a.height||a.hidden||B(a,1),a.text.length>Pr.length&&(Pr=a.text)});br.push({from:0,to:vr.size})}function mn(){for(var a='<span class="cm-tab">',i=0;i<_n.tabSize;++i)a+=" ";return a+"</span>"}function pn(){Ur=mn(),je(!0)}function gn(){tr.className=tr.className.replace(/\s*cm-s-\w+/g,"")+_n.theme.replace(/(^|\s)\s*/g," cm-s-")}function vn(){this.set=[]}function xn(a,c,h){function g(a,c,h,g){H(a).addMark(new k(c,h,g,v.set))}a=en(a),c=en(c);var v=new vn;if(a.line==c.line)g(a.line,a.ch,c.ch,h);else{g(a.line,a.ch,null,h);for(var i=a.line+1,e=c.line;e>i;++i)g(i,null,null,h);g(c.line,null,c.ch,h)}return br.push({from:a.line,to:c.line+1}),v}function yn(a){a=en(a);var c=new C(a.ch);return H(a.line).addMark(c),c}function kn(a,c,h){return"number"==typeof a&&(a=H(tn(a))),a.gutterMarker={text:c,style:h},zr=!0,a}function Cn(a){"number"==typeof a&&(a=H(tn(a))),a.gutterMarker=null,zr=!0}function wn(a,c){var h=a,g=a;return"number"==typeof a?g=H(tn(a)):h=A(a),null==h?null:c(g,h)?(br.push({from:h,to:h+1}),g):null}function Mn(a,c){return wn(a,function(a){return a.className!=c?(a.className=c,!0):void 0})}function bn(a,c){return wn(a,function(a,h){return a.hidden!=c?(a.hidden=c,B(a,c?0:1),!c||Nr.from.line!=h&&Nr.to.line!=h||Ze(Je(Nr.from,Nr.from.line,Nr.from.ch),Je(Nr.to,Nr.to.line,Nr.to.ch)),zr=!0):void 0})}function Sn(a){if("number"==typeof a){if(!W(a))return null;var n=a;if(a=H(a),!a)return null}else{var n=A(a);if(null==n)return null}var c=a.gutterMarker;return{line:n,handle:a,text:a.text,markerText:c&&c.text,markerClass:c&&c.style,lineClass:a.className}}function Ln(a){return sr.innerHTML="<pre><span>x</span></pre>",sr.firstChild.firstChild.firstChild.nodeValue=a,sr.firstChild.firstChild.offsetWidth||10}function An(a,c){var h="";if(_n.lineWrapping){var g=a.text.indexOf(" ",c+2);h=_(a.text.slice(c+1,0>g?a.text.length:g+(ue?5:0)))}sr.innerHTML="<pre>"+a.getHTML(null,null,!1,Ur,c)+'<span id="CodeMirror-temp-'+Zr+'">'+_(a.text.charAt(c)||" ")+"</span>"+h+"</pre>";var v=document.getElementById("CodeMirror-temp-"+Zr),y=v.offsetTop,k=v.offsetLeft;if(ue&&c&&0==y&&0==k){var C=document.createElement("span");C.innerHTML="x",v.parentNode.insertBefore(C,v.nextSibling),y=C.offsetTop}return{top:y,left:k}}function zn(a,c){var x,h=Wn(),g=h*(T(vr,a.line)-(c?Hr:0));if(0==a.ch)x=0;else{var v=An(H(a.line),a.ch);x=v.left,_n.lineWrapping&&(g+=Math.max(0,v.top))}return{x:x,y:g,yBot:g+h}}function Tn(x,a){function c(a){var c=An(k,a);if(w){var g=Math.round(c.top/h);return Math.max(0,c.left+(g-M)*tr.clientWidth)}return c.left}0>a&&(a=0);var h=Wn(),g=Nn(),v=Hr+Math.floor(a/h),y=z(vr,v);if(y>=vr.size)return{line:vr.size-1,ch:H(vr.size-1).text.length};var k=H(y),C=k.text,w=_n.lineWrapping,M=w?v-T(vr,y):0;if(0>=x&&0==M)return{line:y,ch:0};for(var b,S=0,L=0,A=C.length,E=Math.min(A,Math.ceil((x+M*tr.clientWidth*.9)/g));;){var W=c(E);if(!(x>=W&&A>E)){b=W,A=E;break}E=Math.min(A,Math.ceil(1.2*E))}if(x>b)return{line:y,ch:A};for(E=Math.floor(.8*A),W=c(E),x>W&&(S=E,L=W);;){if(1>=A-S)return{line:y,ch:b-x>x-L?S:A};var N=Math.ceil((S+A)/2),D=c(N);D>x?(A=N,b=D):(S=N,L=D)}}function En(a){var c=zn(a,!0),h=K(ar);return{x:h.left+c.x,y:h.top+c.y,yBot:h.top+c.yBot}}function Wn(){if(null==Xr){Xr="<pre>";for(var i=0;49>i;++i)Xr+="x<br/>";Xr+="x</pre>"}var a=fr.clientHeight;return a==qr?_r:(qr=a,sr.innerHTML=Xr,_r=sr.firstChild.offsetHeight/50||1,sr.innerHTML="",_r)}function Nn(){return tr.clientWidth==Jr?$r:(Jr=tr.clientWidth,$r=Ln("x"))}function Dn(){return ar.offsetTop}function Hn(){return ar.offsetLeft}function In(e,a){var x,c,h=K(tr,!0);try{x=e.clientX,c=e.clientY}catch(e){return null}if(!a&&(x-h.left>tr.clientWidth||c-h.top>tr.clientHeight))return null;var g=K(ar,!0);return Tn(x-g.left,c-g.top)}function On(e){function a(){var a=me(Qn.value).join("\n");a!=g&&Yn(We)(a,"end"),Jn.style.position="relative",Qn.style.cssText=h,Ar=!1,Pe(!0),Ie()}var c=In(e);if(c&&!window.opera){(j(Nr.from,Nr.to)||G(c,Nr.from)||!G(c,Nr.to))&&Yn(Qe)(c.line,c.ch);var h=Qn.style.cssText;Jn.style.position="absolute",Qn.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Ar=!0;var g=Qn.value=He();if(Ue(),Qn.select(),se){I(e);var v=P(window,"mouseup",function(){v(),setTimeout(a,20)},!0)}else setTimeout(a,50)}}function Rn(){clearInterval(cr);var a=!0;ur.style.visibility="",cr=setInterval(function(){ur.style.visibility=(a=!a)?"":"hidden"},650)}function Pn(a){function c(a,c,h){if(a.text)for(var g,v=a.styles,y=k?0:a.text.length-1,i=k?0:v.length-2,e=k?v.length:-2;i!=e;i+=2*d){var C=v[i];if(null==v[i+1]||v[i+1]==M){for(var w=k?0:C.length-1,S=k?C.length:-1;w!=S;w+=d,y+=d)if(y>=c&&h>y&&re.test(g=C.charAt(w))){var L=Qr[g];if(">"==L.charAt(1)==k)b.push(g);else{if(b.pop()!=L.charAt(0))return{pos:y,match:!1};if(!b.length)return{pos:y,match:!0}}}}else y+=d*C.length}}var h=Nr.inverted?Nr.from:Nr.to,g=H(h.line),v=h.ch-1,y=v>=0&&Qr[g.text.charAt(v)]||Qr[g.text.charAt(++v)];if(y){for(var k=(y.charAt(0),">"==y.charAt(1)),d=k?1:-1,C=g.styles,w=v+1,i=0,e=C.length;e>i;i+=2)if((w-=C[i].length)<=0){var M=C[i+1];break}for(var b=[g.text.charAt(v)],re=/[(){}[\]]/,i=h.line,e=k?Math.min(i+100,vr.size):Math.max(-1,i-100);i!=e;i+=d){var g=H(i),S=i==h.line,L=c(g,S&&k?v+1:0,S&&!k?v:g.text.length);if(L)break}L||(L={pos:null,match:!1});var M=L.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",A=xn({line:h.line,ch:v},{line:h.line,ch:v+1},M),z=null!=L.pos&&xn({line:i,ch:L.pos},{line:i,ch:L.pos+1},M),T=Yn(function(){A.clear(),z&&z.clear()});a?setTimeout(T,800):Er=T}}function Un(n){for(var a,c,h=n,g=n-40;h>g;--h){if(0==h)return 0;var v=H(h-1);if(v.stateAfter)return h;var y=v.indentation(_n.tabSize);(null==c||a>y)&&(c=h-1,a=y)}return c}function Bn(n){var a=Un(n),c=a&&H(a-1).stateAfter;return c=c?g(hr,c):v(hr),vr.iter(a,n,function(a){a.highlight(hr,c,_n.tabSize),a.stateAfter=g(hr,c)}),n>a&&br.push({from:a,to:n}),n<vr.size&&!H(n).stateAfter&&dr.push(n),c}function Vn(a,c){var h=Bn(a);vr.iter(a,c,function(a){a.highlight(hr,h,_n.tabSize),a.stateAfter=g(hr,h)})}function Kn(){for(var a=+new Date+_n.workTime,c=dr.length;dr.length;){if(H(Ir).stateAfter)var h=dr.pop();else var h=Ir;if(!(h>=vr.size)){var y=Un(h),k=y&&H(y-1).stateAfter;k=k?g(hr,k):v(hr);var C=0,w=hr.compareStates,M=!1,i=y,b=!1;if(vr.iter(i,vr.size,function(c){var v=c.stateAfter;if(+new Date>a)return dr.push(i),Fn(_n.workDelay),M&&br.push({from:h,to:i+1}),b=!0;var y=c.highlight(hr,k,_n.tabSize);if(y&&(M=!0),c.stateAfter=g(hr,k),w){if(v&&w(v,k))return!0}else if(y===!1&&v){if(++C>3&&(!hr.indent||hr.indent(v,"")==hr.indent(k,"")))return!0}else C=0;++i}),b)return;M&&br.push({from:h,to:i+1})}}c&&_n.onHighlightComplete&&_n.onHighlightComplete(Kr)}function Fn(a){dr.length&&gr.set(a,Yn(Kn))}function jn(){wr=Mr=Sr=null,br=[],Lr=!1,Tr=[]}function Gn(){var a,c=!1;Lr&&(c=!Ve()),br.length?a=je(br,!0):(Lr&&qe(),zr&&_e()),c&&Ve(),Lr&&(Be(),Rn()),mr&&!Ar&&(wr===!0||wr!==!1&&Lr)&&Pe(Mr),Lr&&_n.matchBrackets&&setTimeout(Yn(function(){Er&&(Er(),Er=null),j(Nr.from,Nr.to)&&Pn(!1)}),20);var h=Sr,g=Tr;Lr&&_n.onCursorActivity&&_n.onCursorActivity(Kr),h&&_n.onChange&&Kr&&_n.onChange(Kr,h);for(var i=0;i<g.length;++i)g[i](Kr);a&&_n.onUpdate&&_n.onUpdate(Kr)}function Yn(f){return function(){ti++||jn();try{var a=f.apply(this,arguments)}finally{--ti||Gn()}return a}}var _n={},qn=a.defaults;for(var Xn in qn)qn.hasOwnProperty(Xn)&&(_n[Xn]=(M&&M.hasOwnProperty(Xn)?M:qn)[Xn]);var $n=_n.document,Zn=$n.createElement("div");Zn.className="CodeMirror"+(_n.lineWrapping?" CodeMirror-wrap":""),Zn.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',y.appendChild?y.appendChild(Zn):y(Zn);var Jn=Zn.firstChild,Qn=Jn.firstChild,tr=Zn.lastChild,er=tr.firstChild,nr=er.firstChild,rr=nr.firstChild,lr=rr.firstChild,ar=rr.nextSibling.firstChild,sr=ar.firstChild,ur=sr.nextSibling,fr=ur.nextSibling;gn(),/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)&&(Qn.style.width="0px"),fe||(ar.draggable=!0),null!=_n.tabindex&&(Qn.tabIndex=_n.tabindex),_n.gutter||_n.lineNumbers||(rr.style.display="none");try{Ln("x")}catch(e){throw e.message.match(/runtime/i)&&(e=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),e}var cr,hr,dr,mr,pr=new U,gr=new U,vr=new S([new b([new w("")])]);cn();var xr,yr,kr,Cr,wr,Mr,br,Sr,Lr,Ar,zr,Tr,Er,Wr,Nr={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Dr=!1,Hr=0,Ir=0,Or=0,Rr=0,Pr="",Ur=mn();Yn(function(){V(_n.value||""),wr=!1})();var Br=new E;P(tr,"mousedown",Yn(te)),P(tr,"dblclick",Yn(ce)),P(ar,"dragstart",xe),P(ar,"selectstart",D),se||P(tr,"contextmenu",On),P(tr,"scroll",function(){je([]),_n.fixedGutter&&(rr.style.left=tr.scrollLeft+"px"),_n.onScroll&&_n.onScroll(Kr)}),P(window,"resize",function(){je(!0)}),P(Qn,"keyup",Yn(we)),P(Qn,"input",Oe),P(Qn,"keydown",Yn(ke)),P(Qn,"keypress",Yn(Ce)),P(Qn,"focus",Me),P(Qn,"blur",be),P(tr,"dragenter",I),P(tr,"dragover",I),P(tr,"drop",Yn(ve)),P(tr,"paste",function(){Ue(),Oe()}),P(Qn,"paste",Oe),P(Qn,"cut",Yn(function(){We("")}));var Vr;try{Vr=$n.activeElement==Qn}catch(e){}Vr?setTimeout(Me,20):be();var Kr=Zn.CodeMirror={getValue:Q,setValue:Yn(V),getSelection:He,replaceSelection:Yn(We),focus:function(){Ue(),Me(),Oe()},setOption:function(a,c){var h=_n[a];_n[a]=c,"mode"==a||"indentUnit"==a?cn():"readOnly"==a&&c?(be(),Qn.blur()):"theme"==a?gn():"lineWrapping"==a&&h!=c?Yn(dn)():"tabSize"==a&&Yn(pn)(),("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a)&&Yn(hn)()},getOption:function(a){return _n[a]},undo:Yn(Ae),redo:Yn(ze),indentLine:Yn(function(n,a){W(n)&&fn(n,null==a?"smart":a?"add":"subtract")}),indentSelection:Yn(un),historySize:function(){return{undo:Br.done.length,redo:Br.undone.length}},clearHistory:function(){Br=new E},matchBrackets:Yn(function(){Pn(!0)}),getTokenAt:Yn(function(a){return a=en(a),H(a.line).getTokenAt(hr,Bn(a.line),a.ch)}),getStateAfter:function(a){return a=tn(null==a?vr.size-1:a),Bn(a+1)},cursorCoords:function(a){return null==a&&(a=Nr.inverted),En(a?Nr.from:Nr.to)},charCoords:function(a){return En(en(a))},coordsChar:function(a){var c=K(ar);return Tn(a.x-c.left,a.y-c.top)},markText:Yn(xn),setBookmark:yn,setMarker:Yn(kn),clearMarker:Yn(Cn),setLineClass:Yn(Mn),hideLine:Yn(function(a){return bn(a,!0)}),showLine:Yn(function(a){return bn(a,!1)}),onDeleteLine:function(a,f){if("number"==typeof a){if(!W(a))return null;a=H(a)}return(a.handlers||(a.handlers=[])).push(f),a},lineInfo:Sn,addWidget:function(a,c,h,g,v){a=zn(en(a));var y=a.yBot,k=a.x;if(c.style.position="absolute",er.appendChild(c),"over"==g)y=a.y;else if("near"==g){var C=Math.max(tr.offsetHeight,vr.height*Wn()),w=Math.max(er.clientWidth,ar.clientWidth)-Hn();a.yBot+c.offsetHeight>C&&a.y>c.offsetHeight&&(y=a.y-c.offsetHeight),k+c.offsetWidth>w&&(k=w-c.offsetWidth)}c.style.top=y+Dn()+"px",c.style.left=c.style.right="","right"==v?(k=er.clientWidth-c.offsetWidth,c.style.right="0px"):("left"==v?k=0:"middle"==v&&(k=(er.clientWidth-c.offsetWidth)/2),c.style.left=k+Hn()+"px"),h&&Ke(k,y,k+c.offsetWidth,y+c.offsetHeight)},lineCount:function(){return vr.size},clipPos:en,getCursor:function(a){return null==a&&(a=Nr.inverted),Y(a?Nr.from:Nr.to)},somethingSelected:function(){return!j(Nr.from,Nr.to)},setCursor:Yn(function(a,c,h){null==c&&"number"==typeof a.line?Qe(a.line,a.ch,h):Qe(a,c,h)}),setSelection:Yn(function(a,c,h){(h?$e:Ze)(en(a),en(c||a))}),getLine:function(a){return W(a)?H(a).text:void 0},getLineHandle:function(a){return W(a)?H(a):void 0},setLine:Yn(function(a,c){W(a)&&Ee(c,{line:a,ch:0},{line:a,ch:H(a).text.length})}),removeLine:Yn(function(a){W(a)&&Ee("",{line:a,ch:0},en({line:a+1,ch:0}))}),replaceRange:Yn(Ee),getRange:function(a,c){return De(en(a),en(c))},execCommand:function(a){return ie[a](Kr)},moveH:Yn(rn),deleteH:Yn(on),moveV:Yn(ln),toggleOverwrite:function(){Dr=!Dr},posFromIndex:function(a){var c,h=0;return vr.iter(0,vr.size,function(g){var v=g.text.length+1;return v>a?(c=a,!0):(a-=v,void++h)}),en({line:h,ch:c})},indexFromPos:function(a){if(a.line<0||a.ch<0)return 0;var c=a.ch;return vr.iter(0,a.line,function(a){c+=a.text.length+1}),c},operation:function(f){return Yn(f)()},refresh:function(){je(!0)},getInputField:function(){return Qn},getWrapperElement:function(){return Zn},getScrollerElement:function(){return tr},getGutterElement:function(){return rr}},Fr=null,jr=!1,Gr="",Yr=null;vn.prototype.clear=Yn(function(){for(var a=1/0,c=-1/0,i=0,e=this.set.length;e>i;++i){var h=this.set[i],g=h.marked;if(g&&h.parent){var v=A(h);a=Math.min(a,v),c=Math.max(c,v);for(var y=0;y<g.length;++y)g[y].set==this.set&&g.splice(y--,1)}}1/0!=a&&br.push({from:a,to:c+1})}),vn.prototype.find=function(){for(var a,c,i=0,e=this.set.length;e>i;++i)for(var h=this.set[i],g=h.marked,v=0;v<g.length;++v){var y=g[v];if(y.set==this.set&&(null!=y.from||null!=y.to)){var k=A(h);null!=k&&(null!=y.from&&(a={line:k,ch:y.from}),null!=y.to&&(c={line:k,ch:y.to}))}}return{from:a,to:c}};var _r,qr,Xr,$r,Zr=Math.floor(16777215*Math.random()).toString(16),Jr=0,Qr={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},ti=0;for(var ei in ee)ee.propertyIsEnumerable(ei)&&!Kr.propertyIsEnumerable(ei)&&(Kr[ei]=ee[ei]);return Kr}function c(a,c,h){function g(a,c,h){var v=c[a];if(null!=v)return v;if(null==h&&(h=c.fallthrough),null==h)return c.catchall;if("string"==typeof h)return g(a,oe[h]);for(var i=0,e=h.length;e>i;++i)if(v=g(a,oe[h[i]]),null!=v)return v;return null}return c?g(a,c,h):g(a,oe[h])}function h(a){var c=ge[a.keyCode];return"Ctrl"==c||"Alt"==c||"Shift"==c||"Mod"==c}function g(a,c){if(c===!0)return c;if(a.copyState)return a.copyState(c);var h={};for(var n in c){var g=c[n];g instanceof Array&&(g=g.concat([])),h[n]=g}return h}function v(a,c,h){return a.startState?a.startState(c,h):!0}function y(a,c){this.pos=this.start=0,this.string=a,this.tabSize=c||8}function k(a,c,h,g){this.from=a,this.to=c,this.style=h,this.set=g}function C(a){this.from=a,this.to=a,this.line=null}function w(a,c){this.styles=c||[a,null],this.text=a,this.height=1,this.marked=this.gutterMarker=this.className=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function M(a,c,h,g){for(var i=0,v=0,y=0;c>v;i+=2){var k=h[i],C=v+k.length;0==y?(C>a&&g.push(k.slice(a-v,Math.min(k.length,c-v)),h[i+1]),C>=a&&(y=1)):1==y&&(C>c?g.push(k.slice(0,c-v),h[i+1]):g.push(k,h[i+1])),v=C}}function b(a){this.lines=a,this.parent=null;for(var i=0,e=a.length,c=0;e>i;++i)a[i].parent=this,c+=a[i].height;this.height=c}function S(a){this.children=a;for(var c=0,h=0,i=0,e=a.length;e>i;++i){var g=a[i];c+=g.chunkSize(),h+=g.height,g.parent=this}this.size=c,this.height=h,this.parent=null}function L(a,n){for(;!a.lines;)for(var i=0;;++i){var c=a.children[i],h=c.chunkSize();if(h>n){a=c;break}n-=h}return a.lines[n]}function A(a){if(null==a.parent)return null;for(var c=a.parent,h=$(c.lines,a),g=c.parent;g;c=g,g=g.parent){var i=0;for(g.children.length;g.children[i]!=c;++i)h+=g.children[i].chunkSize()}return h}function z(a,c){var n=0;t:do{for(var i=0,e=a.children.length;e>i;++i){var h=a.children[i],g=h.height;if(g>c){a=h;continue t}c-=g,n+=h.chunkSize()}return n}while(!a.lines);for(var i=0,e=a.lines.length;e>i;++i){var v=a.lines[i],y=v.height;if(y>c)break;c-=y}return n+i}function T(a,n){var c=0;t:do{for(var i=0,e=a.children.length;e>i;++i){var h=a.children[i],g=h.chunkSize();if(g>n){a=h;continue t}n-=g,c+=h.height}return c}while(!a.lines);for(var i=0;n>i;++i)c+=a.lines[i].height;return c}function E(){this.time=0,this.done=[],this.undone=[]}function W(){I(this)}function N(a){return a.stop||(a.stop=W),a}function D(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function H(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function I(e){D(e),H(e)}function O(e){return e.target||e.srcElement}function R(e){return e.which?e.which:1&e.button?1:2&e.button?3:4&e.button?2:void 0
}function P(a,c,h,g){if("function"==typeof a.addEventListener){if(a.addEventListener(c,h,!1),g)return function(){a.removeEventListener(c,h,!1)}}else{var v=function(a){h(a||window.event)};if(a.attachEvent("on"+c,v),g)return function(){a.detachEvent("on"+c,v)}}}function U(){this.id=null}function B(a,c,h){null==c&&(c=a.search(/[^\s\u00a0]/),-1==c&&(c=a.length));for(var i=0,n=0;c>i;++i)"	"==a.charAt(i)?n+=h-n%h:++n;return n}function V(a){return a.currentStyle?a.currentStyle:window.getComputedStyle(a,null)}function K(a,c){for(var h=a.ownerDocument.body,x=0,g=0,v=!1,n=a;n;n=n.offsetParent){var y=n.offsetLeft,k=n.offsetTop;n==h?(x+=Math.abs(y),g+=Math.abs(k)):(x+=y,g+=k),c&&"fixed"==V(n).position&&(v=!0)}for(var e=c&&!v?null:h,n=a.parentNode;n!=e;n=n.parentNode)null!=n.scrollLeft&&(x-=n.scrollLeft,g-=n.scrollTop);return{left:x,top:g}}function F(a){return a.textContent||a.innerText||a.nodeValue||""}function j(a,c){return a.line==c.line&&a.ch==c.ch}function G(a,c){return a.line<c.line||a.line==c.line&&a.ch<c.ch}function Y(x){return{line:x.line,ch:x.ch}}function _(a){return he.textContent=a,he.innerHTML}function X(a,c){if(!c)return a?a.length:0;if(!a)return c.length;for(var i=a.length,h=c.length;i>=0&&h>=0&&a.charAt(i)==c.charAt(h);--i,--h);return h+1}function $(a,c){if(a.indexOf)return a.indexOf(c);for(var i=0,e=a.length;e>i;++i)if(a[i]==c)return i;return-1}function Z(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}a.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var J=/Mac/.test(navigator.platform),Q=(/Win/.test(navigator.platform),{}),te={};a.defineMode=function(c,h){a.defaults.mode||"null"==c||(a.defaults.mode=c),Q[c]=h},a.defineMIME=function(a,c){te[a]=c},a.getMode=function(c,h){if("string"==typeof h&&te.hasOwnProperty(h)&&(h=te[h]),"string"==typeof h)var g=h,v={};else if(null!=h)var g=h.name,v=h;var y=Q[g];return y?y(c,v||{}):(window.console&&console.warn("No mode "+g+" found, falling back to plain text."),a.getMode(c,"text/plain"))},a.listModes=function(){var a=[];for(var m in Q)Q.propertyIsEnumerable(m)&&a.push(m);return a},a.listMIMEs=function(){var a=[];for(var m in te)te.propertyIsEnumerable(m)&&a.push({mime:m,mode:te[m]});return a};var ee=a.extensions={};a.defineExtension=function(a,c){ee[a]=c};var ie=a.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var c=a.getCursor(!0),h=a.getCursor(!1),g=!j(c,h);g||a.getLine(c.line).length!=c.ch?a.replaceRange("",c,g?h:{line:c.line}):a.replaceRange("",c,{line:c.line+1,ch:0})},deleteLine:function(a){var l=a.getCursor().line;a.replaceRange("",{line:l,ch:0},{line:l})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var c=a.getCursor(),h=a.getLine(c.line),g=Math.max(0,h.search(/\S/));a.setCursor(c.line,c.ch<=g&&c.ch?0:g,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("	","end")},transposeChars:function(a){var c=a.getCursor(),h=a.getLine(c.line);c.ch>0&&c.ch<h.length-1&&a.replaceRange(h.charAt(c.ch)+h.charAt(c.ch-1),{line:c.line,ch:c.ch-1},{line:c.line,ch:c.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end"),a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},oe=a.keyMap={};oe.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},oe.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"},oe.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]},oe["default"]=J?oe.macDefault:oe.pcDefault,oe.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},a.fromTextArea=function(c,h){function g(){c.value=C.getValue()}function v(){g(),c.form.submit=k,c.form.submit(),c.form.submit=v}if(h||(h={}),h.value=c.value,!h.tabindex&&c.tabindex&&(h.tabindex=c.tabindex),c.form){var y=P(c.form,"submit",g,!0);if("function"==typeof c.form.submit){var k=c.form.submit;c.form.submit=v}}c.style.display="none";var C=a(function(a){c.parentNode.insertBefore(a,c.nextSibling)},h);return C.save=g,C.getTextArea=function(){return c},C.toTextArea=function(){g(),c.parentNode.removeChild(C.getWrapperElement()),c.style.display="",c.form&&(y(),"function"==typeof c.form.submit&&(c.form.submit=k))},C},a.copyState=g,a.startState=v,y.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var c=this.string.charAt(this.pos);if("string"==typeof a)var h=c==a;else var h=c&&(a.test?a.test(c):a(c));return h?(++this.pos,c):void 0},eatWhile:function(a){for(var c=this.pos;this.eat(a););return this.pos>c},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var c=this.string.indexOf(a,this.pos);return c>-1?(this.pos=c,!0):void 0},backUp:function(n){this.pos-=n},column:function(){return B(this.string,this.start,this.tabSize)},indentation:function(){return B(this.string,null,this.tabSize)},match:function(a,c,h){function g(a){return h?a.toLowerCase():a}if("string"!=typeof a){var v=this.string.slice(this.pos).match(a);return v&&c!==!1&&(this.pos+=v[0].length),v}return g(this.string).indexOf(g(a),this.pos)==this.pos?(c!==!1&&(this.pos+=a.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},a.StringStream=y,k.prototype={attach:function(a){this.set.push(a)},detach:function(a){var c=$(this.set,a);c>-1&&this.set.splice(c,1)},split:function(a,c){if(this.to<=a&&null!=this.to)return null;var h=this.from<a||null==this.from?null:this.from-a+c,g=null==this.to?null:this.to-a+c;return new k(h,g,this.style,this.set)},dup:function(){return new k(null,null,this.style,this.set)},clipTo:function(a,c,h,g,v){null!=this.from&&this.from>=c&&(this.from=Math.max(g,this.from)+v),null!=this.to&&this.to>c&&(this.to=g<this.to?this.to+v:c),a&&g>this.from&&(g<this.to||null==this.to)&&(this.from=null),h&&(c<this.to||null==this.to)&&(c>this.from||null==this.from)&&(this.to=null)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(x){return this.set==x.set}},C.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,c){return a<this.from?(this.from=this.to=this.from-a+c,this):void 0},isDead:function(){return this.from>this.to},clipTo:function(a,c,h,g,v){(a||c<this.from)&&(h||g>this.to)?(this.from=0,this.to=-1):this.from>c&&(this.from=this.to=Math.max(g,this.from)+v)},sameSet:function(){return!1},find:function(){return this.line&&this.line.parent?{line:A(this.line),ch:this.from}:null},clear:function(){if(this.line){var a=$(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1),this.line=null}}},w.inheritMarks=function(a,c){var h=new w(a),g=c&&c.marked;if(g)for(var i=0;i<g.length;++i)if(null==g[i].to&&g[i].style){var v=h.marked||(h.marked=[]),y=g[i],k=y.dup();v.push(k),k.attach(h)}return h},w.prototype={replace:function(a,c,h){var g=[],v=this.marked,y=null==c?this.text.length:c;if(M(0,a,this.styles,g),h&&g.push(h,null),M(y,this.text.length,this.styles,g),this.styles=g,this.text=this.text.slice(0,a)+h+this.text.slice(y),this.stateAfter=null,v)for(var k=h.length-(y-a),i=0,C=v[i];i<v.length;++i)C.clipTo(null==a,a||0,null==c,y,k),C.isDead()&&(C.detach(this),v.splice(i--,1))},split:function(a,c){var h=[c,null],g=this.marked;M(a,this.text.length,this.styles,h);var v=new w(c+this.text.slice(a),h);if(g)for(var i=0;i<g.length;++i){var y=g[i],k=y.split(a,c.length);k&&(v.marked||(v.marked=[]),v.marked.push(k),k.attach(v))}return v},append:function(a){var c=this.text.length,h=a.marked,g=this.marked;if(this.text+=a.text,M(0,a.text.length,a.styles,this.styles),g)for(var i=0;i<g.length;++i)null==g[i].to&&(g[i].to=c);if(h&&h.length){g||(this.marked=g=[]);t:for(var i=0;i<h.length;++i){var v=h[i];if(!v.from)for(var y=0;y<g.length;++y){var k=g[y];if(k.to==c&&k.sameSet(v)){k.to=null==v.to?null:v.to+c,k.isDead()&&(k.detach(this),h.splice(i--,1));continue t}}g.push(v),v.attach(this),v.from+=c,null!=v.to&&(v.to+=c)}}},fixMarkEnds:function(a){var c=this.marked,h=a.marked;if(c)for(var i=0;i<c.length;++i){var g=c[i],v=null==g.to;if(v&&h)for(var y=0;y<h.length;++y)if(h[y].sameSet(g)){v=!1;break}v&&(g.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;if(a)for(var i=0;i<a.length;++i)null==a[i].from&&(a[i].from=0)},addMark:function(a){a.attach(this),null==this.marked&&(this.marked=[]),this.marked.push(a),this.marked.sort(function(a,c){return(a.from||0)-(c.from||0)})},highlight:function(a,c,h){var g,v=new y(this.text,h),k=this.styles,C=0,w=!1,M=k[0];for(""==this.text&&a.blankLine&&a.blankLine(c);!v.eol();){var b=a.token(v,c),S=this.text.slice(v.start,v.pos);if(v.start=v.pos,C&&k[C-1]==b?k[C-2]+=S:S&&(!w&&(k[C+1]!=b||C&&k[C-2]!=g)&&(w=!0),k[C++]=S,k[C++]=b,g=M,M=k[C]),v.pos>5e3){k[C++]=this.text.slice(v.pos),k[C++]=null;break}}return k.length!=C&&(k.length=C,w=!0),C&&k[C-2]!=g&&(w=!0),w||(k.length<5&&this.text.length<10?null:!1)},getTokenAt:function(a,c,h){for(var g=this.text,v=new y(g);v.pos<h&&!v.eol();){v.start=v.pos;var k=a.token(v,c)}return{start:v.start,end:v.pos,string:v.current(),className:k||null,state:c}},indentation:function(a){return B(this.text,null,a)},getHTML:function(a,c,h,g,v){function y(a,c){a&&(w&&ue&&" "==a.charAt(0)&&(a=" "+a.slice(1)),w=!1,c?C.push('<span class="',c,'">',_(a).replace(/\t/g,g),"</span>"):C.push(_(a).replace(/\t/g,g)))}function k(){S&&(E+=1,W=E<S.length?S[E]:null)}var C=[],w=!0;h&&C.push(this.className?'<pre class="'+this.className+'">':"<pre>");var M=this.styles,b=this.text,S=this.marked;a==c&&(a=null);var L=b.length;if(null!=v&&(L=Math.min(v,L)),b||null!=v)if(S||null!=a){var A,z=0,i=0,T="",E=-1,W=null;for(k();L>z;){var N=L,D="";for(null!=a&&(a>z?N=a:(null==c||c>z)&&(D=" CodeMirror-selected",null!=c&&(N=Math.min(N,c))));W&&null!=W.to&&W.to<=z;)k();for(W&&(W.from>z?N=Math.min(N,W.from):(D+=" "+W.style,null!=W.to&&(N=Math.min(N,W.to))));;){var H=z+T.length,I=A;if(D&&(I=A?A+D:D),y(H>N?T.slice(0,N-z):T,I),H>=N){T=T.slice(N-z),z=N;break}z=H,T=M[i++],A="cm-"+M[i++]}}null!=a&&null==c&&y(" ","CodeMirror-selected")}else for(var i=0,O=0;L>O;i+=2){var R=M[i],A=M[i+1],l=R.length;O+l>L&&(R=R.slice(0,L-O)),O+=l,y(R,A&&"cm-"+A)}else y(" ",null!=a&&null==c?"CodeMirror-selected":null);return h&&C.push("</pre>"),C.join("")},cleanUp:function(){if(this.parent=null,this.marked)for(var i=0,e=this.marked.length;e>i;++i)this.marked[i].detach(this)}},b.prototype={chunkSize:function(){return this.lines.length},remove:function(a,n,c){for(var i=a,e=a+n;e>i;++i){var h=this.lines[i];if(this.height-=h.height,h.cleanUp(),h.handlers)for(var g=0;g<h.handlers.length;++g)c.push(h.handlers[g])}this.lines.splice(a,n)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,c,h){this.height+=h,this.lines.splice.apply(this.lines,[a,0].concat(c));for(var i=0,e=c.length;e>i;++i)c[i].parent=this},iterN:function(a,n,c){for(var e=a+n;e>a;++a)if(c(this.lines[a]))return!0}},S.prototype={chunkSize:function(){return this.size},remove:function(a,n,c){this.size-=n;for(var i=0;i<this.children.length;++i){var h=this.children[i],g=h.chunkSize();if(g>a){var v=Math.min(n,g-a),y=h.height;if(h.remove(a,v,c),this.height-=y-h.height,g==v&&(this.children.splice(i--,1),h.parent=null),0==(n-=v))break;a=0}else a-=g}if(this.size-n<25){var k=[];this.collapse(k),this.children=[new b(k)]}},collapse:function(a){for(var i=0,e=this.children.length;e>i;++i)this.children[i].collapse(a)},insert:function(a,c){for(var h=0,i=0,e=c.length;e>i;++i)h+=c[i].height;this.insertHeight(a,c,h)},insertHeight:function(a,c,h){this.size+=c.length,this.height+=h;for(var i=0,e=this.children.length;e>i;++i){var g=this.children[i],v=g.chunkSize();if(v>=a){if(g.insertHeight(a,c,h),g.lines&&g.lines.length>50){for(;g.lines.length>50;){var y=g.lines.splice(g.lines.length-25,25),k=new b(y);g.height-=k.height,this.children.splice(i+1,0,k),k.parent=this}this.maybeSpill()}break}a-=v}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var c=a.children.splice(a.children.length-5,5),h=new S(c);if(a.parent){a.size-=h.size,a.height-=h.height;var g=$(a.parent.children,a);a.parent.children.splice(g+1,0,h)}else{var v=new S(a.children);v.parent=a,a.children=[v,h],a=v}h.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iter:function(a,c,h){this.iterN(a,c-a,h)},iterN:function(a,n,c){for(var i=0,e=this.children.length;e>i;++i){var h=this.children[i],g=h.chunkSize();if(g>a){var v=Math.min(n,g-a);if(h.iterN(a,v,c))return!0;if(0==(n-=v))break;a=0}else a-=g}}},E.prototype={addChange:function(a,c,h){this.undone.length=0;var g=+new Date,v=this.done[this.done.length-1];if(g-this.time>400||!v||v.start>a+c||v.start+v.added<a-v.added+v.old.length)this.done.push({start:a,added:c,old:h});else{var y=0;if(a<v.start){for(var i=v.start-a-1;i>=0;--i)v.old.unshift(h[i]);v.added+=v.start-a,v.start=a}else v.start<a&&(y=a-v.start,c+=y);for(var i=v.added-y,e=h.length;e>i;++i)v.old.push(h[i]);v.added<c&&(v.added=c)}this.time=g}},a.e_stop=I,a.e_preventDefault=D,a.e_stopPropagation=H,a.connect=P,U.prototype={set:function(a,f){clearTimeout(this.id),this.id=setTimeout(f,a)}};var ae=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent))return!1;var a=document.createElement("div");return"draggable"in a}(),se=/gecko\/\d{7}/i.test(navigator.userAgent),ue=/MSIE \d/.test(navigator.userAgent),fe=/WebKit\//.test(navigator.userAgent),ce="\n";!function(){var a=document.createElement("textarea");a.value="foo\nbar",a.value.indexOf("\r")>-1&&(ce="\r\n")}(),null!=document.documentElement.getBoundingClientRect&&(K=function(a,c){try{var h=a.getBoundingClientRect();h={top:h.top,left:h.left}}catch(e){h={top:0,left:0}}if(!c)if(null==window.pageYOffset){var t=document.documentElement||document.body.parentNode;null==t.scrollTop&&(t=document.body),h.top+=t.scrollTop,h.left+=t.scrollLeft}else h.top+=window.pageYOffset,h.left+=window.pageXOffset;return h});var he=document.createElement("pre");"\na"==_("a")?_=function(a){return he.textContent=a,he.innerHTML.slice(1)}:"	"!=_("	")&&(_=function(a){return he.innerHTML="",he.appendChild(document.createTextNode(a)),he.innerHTML}),a.htmlEscape=_;var me=3!="\n\nb".split(/\n/).length?function(a){for(var c,h=0,g=[];(c=a.indexOf("\n",h))>-1;)g.push(a.slice(h,"\r"==a.charAt(c-1)?c-1:c)),h=c+1;return g.push(a.slice(h)),g}:function(a){return a.split(/\r?\n/)};a.splitLines=me;var pe=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(e){return!1}}:function(a){try{var c=a.ownerDocument.selection.createRange()}catch(e){}return c&&c.parentElement()==a?0!=c.compareEndPoints("StartToEnd",c):!1};a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null");var ge={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return a.keyNames=ge,function(){for(var i=0;10>i;i++)ge[i+48]=String(i);for(var i=65;90>=i;i++)ge[i]=String.fromCharCode(i);for(var i=1;12>=i;i++)ge[i+111]=ge[i+63235]="F"+i}(),a}();CodeMirror.defineMode("xml",function(a,c){function h(a,c){function h(h){return c.tokenize=h,h(a,c)}var v=a.next();if("<"==v){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?h(y("atom","]]>")):null:a.match("--")?h(y("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),h(k(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),c.tokenize=y("meta","?>"),"meta";N=a.eat("/")?"closeTag":"openTag",a.eatSpace(),W="";for(var C;C=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)W+=C;return c.tokenize=g,"tag"}return"&"==v?(a.eatWhile(/[^;]/),a.eat(";"),"atom"):(a.eatWhile(/[^&<]/),null)}function g(a,c){var g=a.next();return">"==g||"/"==g&&a.eat(">")?(c.tokenize=h,N=">"==g?"endTag":"selfcloseTag","tag"):"="==g?(N="equals",null):/[\'\"]/.test(g)?(c.tokenize=v(g),c.tokenize(a,c)):(a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function v(a){return function(c,h){for(;!c.eol();)if(c.next()==a){h.tokenize=g;break}return"string"}}function y(a,c){return function(g,v){for(;!g.eol();){if(g.match(c)){v.tokenize=h;break}g.next()}return a}}function k(a){return function(c,g){for(var v;null!=(v=c.next());){if("<"==v)return g.tokenize=k(a+1),g.tokenize(c,g);if(">"==v){if(1==a){g.tokenize=h;break}return g.tokenize=k(a-1),g.tokenize(c,g)}}return"meta"}}function C(){for(var i=arguments.length-1;i>=0;i--)D.cc.push(arguments[i])}function w(){return C.apply(null,arguments),!0}function M(a,c){var h=O.doNotIndent.hasOwnProperty(a)||D.context&&D.context.noIndent;D.context={prev:D.context,tagName:a,indent:D.indented,startOfLine:c,noIndent:h}}function b(){D.context&&(D.context=D.context.prev)}function S(a){if("openTag"==a)return D.tagName=W,w(z,L(D.startOfLine));if("closeTag"==a){var c=!1;return c=D.context?D.context.tagName!=W:!0,c&&(H="error"),w(A(c))}return w()}function L(a){return function(c){return"selfcloseTag"==c||"endTag"==c&&O.autoSelfClosers.hasOwnProperty(D.tagName.toLowerCase())?w():"endTag"==c?(M(D.tagName,a),w()):w()}}function A(a){return function(c){return a&&(H="error"),"endTag"==c?(b(),w()):(H="error",w(arguments.callee))}}function z(a){return"word"==a?(H="attribute",w(z)):"equals"==a?w(T,z):"string"==a?(H="error",w(z)):C()}function T(a){return"word"==a&&O.allowUnquoted?(H="string",w()):"string"==a?w(E):C()}function E(a){return"string"==a?w(E):C()}var W,N,D,H,I=a.indentUnit,O=c.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:!1},R=c.alignCDATA;return{startState:function(){return{tokenize:h,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(a,c){if(a.sol()&&(c.startOfLine=!0,c.indented=a.indentation()),a.eatSpace())return null;H=N=W=null;var h=c.tokenize(a,c);if(c.type=N,(h||N)&&"comment"!=h)for(D=c;;){var g=c.cc.pop()||S;if(g(N||h))break}return c.startOfLine=!1,H||h},indent:function(a,c,v){var y=a.context;if(a.tokenize!=g&&a.tokenize!=h||y&&y.noIndent)return v?v.match(/^(\s*)/)[0].length:0;if(R&&/<!\[CDATA\[/.test(c))return 0;for(y&&/^<\//.test(c)&&(y=y.prev);y&&!y.startOfLine;)y=y.prev;return y?y.indent+I:0},compareStates:function(a,c){if(a.indented!=c.indented||a.tokenize!=c.tokenize)return!1;for(var h=a.context,g=c.context;;h=h.prev,g=g.prev){if(!h||!g)return h==g;if(h.tagName!=g.tagName)return!1}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.defineMode("javascript",function(a,c){function h(a,c,f){return c.tokenize=f,f(a,c)}function g(a,c){for(var h,g=!1;null!=(h=a.next());){if(h==c&&!g)return!1;g=!g&&"\\"==h}return g}function v(a,c,h){return Z=a,J=h,c}function y(a,c){var y=a.next();if('"'==y||"'"==y)return h(a,c,k(y));if(/[\[\]{}\(\),;\:\.]/.test(y))return v(y);if("0"==y&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),v("number","number");if(/\d/.test(y))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),v("number","number");if("/"==y)return a.eat("*")?h(a,c,C):a.eat("/")?(a.skipToEnd(),v("comment","comment")):c.reAllowed?(g(a,"/"),a.eatWhile(/[gimy]/),v("regexp","string")):(a.eatWhile(ie),v("operator",null,a.current()));if("#"==y)return a.skipToEnd(),v("error","error");if(ie.test(y))return a.eatWhile(ie),v("operator",null,a.current());a.eatWhile(/[\w\$_]/);var w=a.current(),M=ee.propertyIsEnumerable(w)&&ee[w];return M&&c.kwAllowed?v(M.type,M.style,w):v("variable","variable",w)}function k(a){return function(c,h){return g(c,a)||(h.tokenize=y),v("string","string")}}function C(a,c){for(var h,g=!1;h=a.next();){if("/"==h&&g){c.tokenize=y;break}g="*"==h}return v("comment","comment")}function w(a,c,h,g,v,y){this.indented=a,this.column=c,this.type=h,this.prev=v,this.info=y,null!=g&&(this.align=g)}function M(a,c){for(var h=a.localVars;h;h=h.next)if(h.name==c)return!0}function b(a,c,h,g,v){var y=a.cc;for(ae.state=a,ae.stream=v,ae.marked=null,ae.cc=y,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;){var k=y.length?y.pop():te?H:D;if(k(h,g)){for(;y.length&&y[y.length-1].lex;)y.pop()();return ae.marked?ae.marked:"variable"==h&&M(a,g)?"variable-2":c}}}function S(){for(var i=arguments.length-1;i>=0;i--)ae.cc.push(arguments[i])}function L(){return S.apply(null,arguments),!0}function A(a){var c=ae.state;if(c.context){ae.marked="def";for(var h=c.localVars;h;h=h.next)if(h.name==a)return;c.localVars={name:a,next:c.localVars}}}function z(){ae.state.context||(ae.state.localVars=se),ae.state.context={prev:ae.state.context,vars:ae.state.localVars}}function T(){ae.state.localVars=ae.state.context.vars,ae.state.context=ae.state.context.prev}function E(a,c){var h=function(){var h=ae.state;h.lexical=new w(h.indented,ae.stream.column(),a,null,h.lexical,c)};return h.lex=!0,h}function W(){var a=ae.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function N(a){return function(c){return c==a?L():";"==a?S():L(arguments.callee)}}function D(a){return"var"==a?L(E("vardef"),K,N(";"),W):"keyword a"==a?L(E("form"),H,D,W):"keyword b"==a?L(E("form"),D,W):"{"==a?L(E("}"),V,W):";"==a?L():"function"==a?L(X):"for"==a?L(E("form"),N("("),E(")"),j,N(")"),W,D,W):"variable"==a?L(E("stat"),R):"switch"==a?L(E("form"),H,E("}","switch"),N("{"),V,W,W):"case"==a?L(H,N(":")):"default"==a?L(N(":")):"catch"==a?L(E("form"),z,N("("),$,N(")"),D,W,T):S(E("stat"),H,N(";"),W)}function H(a){return oe.hasOwnProperty(a)?L(O):"function"==a?L(X):"keyword c"==a?L(I):"("==a?L(E(")"),H,N(")"),W,O):"operator"==a?L(H):"["==a?L(E("]"),B(H,"]"),W,O):"{"==a?L(E("}"),B(U,"}"),W,O):L()}function I(a){return a.match(/[;\}\)\],]/)?S():S(H)}function O(a,c){if("operator"==a&&/\+\+|--/.test(c))return L(O);if("operator"==a)return L(H);if(";"!=a)return"("==a?L(E(")"),B(H,")"),W,O):"."==a?L(P,O):"["==a?L(E("]"),H,N("]"),W,O):void 0}function R(a){return":"==a?L(W,D):S(O,N(";"),W)}function P(a){return"variable"==a?(ae.marked="property",L()):void 0}function U(a){return"variable"==a&&(ae.marked="property"),oe.hasOwnProperty(a)?L(N(":"),H):void 0}function B(a,c){function h(g){return","==g?L(a,h):g==c?L():L(N(c))}return function(g){return g==c?L():S(a,h)}}function V(a){return"}"==a?L():S(D,V)}function K(a,c){return"variable"==a?(A(c),L(F)):L()}function F(a,c){return"="==c?L(H,F):","==a?L(K):void 0}function j(a){return"var"==a?L(K,Y):";"==a?S(Y):"variable"==a?L(G):S(Y)}function G(a,c){return"in"==c?L(H):L(O,Y)}function Y(a,c){return";"==a?L(_):"in"==c?L(H):L(H,N(";"),_)}function _(a){")"!=a&&L(H)}function X(a,c){return"variable"==a?(A(c),L(X)):"("==a?L(E(")"),z,B($,")"),W,D,T):void 0}function $(a,c){return"variable"==a?(A(c),L()):void 0}var Z,J,Q=a.indentUnit,te=c.json,ee=function(){function a(a){return{type:a,style:"keyword"}}var c=a("keyword a"),h=a("keyword b"),g=a("keyword c"),v=a("operator"),y={type:"atom",style:"atom"};return{"if":c,"while":c,"with":c,"else":h,"do":h,"try":h,"finally":h,"return":g,"break":g,"continue":g,"new":g,"delete":g,"throw":g,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":v,"typeof":v,"instanceof":v,"true":y,"false":y,"null":y,undefined:y,NaN:y,Infinity:y}}(),ie=/[+\-*&%=<>!?|]/,oe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},ae={state:null,column:null,marked:null,cc:null},se={name:"this",next:{name:"arguments"}};return W.lex=!0,{startState:function(a){return{tokenize:y,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new w((a||0)-Q,0,"block",!1),localVars:null,context:null,indented:0}},token:function(a,c){if(a.sol()&&(c.lexical.hasOwnProperty("align")||(c.lexical.align=!1),c.indented=a.indentation()),a.eatSpace())return null;var h=c.tokenize(a,c);return"comment"==Z?h:(c.reAllowed="operator"==Z||"keyword c"==Z||Z.match(/^[\[{}\(,;:]$/),c.kwAllowed="."!=Z,b(c,h,Z,J,a))},indent:function(a,c){if(a.tokenize!=y)return 0;var h=c&&c.charAt(0),g=a.lexical,v=g.type,k=h==v;return"vardef"==v?g.indented+4:"form"==v&&"{"==h?g.indented:"stat"==v||"form"==v?g.indented+Q:"switch"!=g.info||k?g.align?g.column+(k?0:1):g.indented+(k?0:Q):g.indented+(/^(?:case|default)\b/.test(c)?Q:2*Q)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("css",function(a){function c(a,c){return k=c,a}function h(a,h){var k=a.next();return"@"==k?(a.eatWhile(/[\w\\\-]/),c("meta",a.current())):"/"==k&&a.eat("*")?(h.tokenize=g,g(a,h)):"<"==k&&a.eat("!")?(h.tokenize=v,v(a,h)):"="!=k?"~"!=k&&"|"!=k||!a.eat("=")?'"'==k||"'"==k?(h.tokenize=y(k),h.tokenize(a,h)):"#"==k?(a.eatWhile(/[\w\\\-]/),c("atom","hash")):"!"==k?(a.match(/^\s*\w*/),c("keyword","important")):/\d/.test(k)?(a.eatWhile(/[\w.%]/),c("number","unit")):/[,.+>*\/]/.test(k)?c(null,"select-op"):/[;{}:\[\]]/.test(k)?c(null,k):(a.eatWhile(/[\w\\\-]/),c("variable","variable")):c(null,"compare"):void c(null,"compare")}function g(a,g){for(var v,y=!1;null!=(v=a.next());){if(y&&"/"==v){g.tokenize=h;break}y="*"==v}return c("comment","comment")}function v(a,g){for(var v,y=0;null!=(v=a.next());){if(y>=2&&">"==v){g.tokenize=h;break}y="-"==v?y+1:0}return c("comment","comment")}function y(a){return function(g,v){for(var y,k=!1;null!=(y=g.next())&&(y!=a||k);)k=!k&&"\\"==y;return k||(v.tokenize=h),c("string","string")}}var k,C=a.indentUnit;return{startState:function(a){return{tokenize:h,baseIndent:a||0,stack:[]}},token:function(a,c){if(a.eatSpace())return null;var h=c.tokenize(a,c),g=c.stack[c.stack.length-1];return"hash"==k&&"rule"==g?h="atom":"variable"==h&&("rule"==g?h="number":g&&"@media{"!=g||(h="tag")),"rule"==g&&/^[\{\};]$/.test(k)&&c.stack.pop(),"{"==k?"@media"==g?c.stack[c.stack.length-1]="@media{":c.stack.push("{"):"}"==k?c.stack.pop():"@media"==k?c.stack.push("@media"):"{"==g&&"comment"!=k&&c.stack.push("rule"),h},indent:function(a,c){var n=a.stack.length;return/^\}/.test(c)&&(n-="rule"==a.stack[a.stack.length-1]?2:1),a.baseIndent+n*C},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("htmlmixed",function(a){function c(a,c){var h=y.token(a,c.htmlState);return"tag"==h&&">"==a.current()&&c.htmlState.context&&(/^script$/i.test(c.htmlState.context.tagName)?(c.token=g,c.localState=k.startState(y.indent(c.htmlState,"")),c.mode="javascript"):/^style$/i.test(c.htmlState.context.tagName)&&(c.token=v,c.localState=C.startState(y.indent(c.htmlState,"")),c.mode="css")),h}function h(a,c,h){var g=a.current(),v=g.search(c);return v>-1&&a.backUp(g.length-v),h}function g(a,g){return a.match(/^<\/\s*script\s*>/i,!1)?(g.token=c,g.curState=null,g.mode="html",c(a,g)):h(a,/<\/\s*script\s*>/,k.token(a,g.localState))}function v(a,g){return a.match(/^<\/\s*style\s*>/i,!1)?(g.token=c,g.localState=null,g.mode="html",c(a,g)):h(a,/<\/\s*style\s*>/,C.token(a,g.localState))}var y=CodeMirror.getMode(a,{name:"xml",htmlMode:!0}),k=CodeMirror.getMode(a,"javascript"),C=CodeMirror.getMode(a,"css");return{startState:function(){var a=y.startState();return{token:c,localState:null,mode:"html",htmlState:a}},copyState:function(a){if(a.localState)var c=CodeMirror.copyState(a.token==v?C:k,a.localState);return{token:a.token,localState:c,mode:a.mode,htmlState:CodeMirror.copyState(y,a.htmlState)}},token:function(a,c){return c.token(a,c)},indent:function(a,h){return a.token==c||/^\s*<\//.test(h)?y.indent(a.htmlState,h):a.token==g?k.indent(a.localState,h):C.indent(a.localState,h)},compareStates:function(a,c){return y.compareStates(a.htmlState,c.htmlState)},electricChars:"/{}:"}}),CodeMirror.defineMIME("text/html","htmlmixed");